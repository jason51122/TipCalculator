<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Tip Calculator by jason51122</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" href="https://github.com/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://github.com/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://github.com/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://github.com/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://github.com/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://github.com/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://github.com/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://github.com/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://github.com/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://github.com/apple-touch-icon-180x180.png">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Tip Calculator</h1>
      <p></p>
      <input type="text" id="amount" onkeypress="return checkKey(event)" onkeyup="calculate()" placeholder="Amount" autofocus/>
      <p></p>
      <select id="type" class="select" onchange="calculate()">
        <option value="1.095" selected="selected">After-Tax</option>
        <option value="1">Pre-Tax</option>
      </select>
      <select id="percentage" class="select" onchange="calculate()">
        <option value="0.2">20%</option>
        <option value="0.15" selected="selected">15%</option>
        <option value="0.1">10%</option>
        <option value="0.05">5%</option>
        <option value="0">0%</option>
      </select>
      <p id="tip" class="result">Tip: $0.00</p>
      <p id="total" class="result">Total: $0.00</p>
    </section>

    <script>
    function checkKey(event) {
      var chCode = ('charCode' in event) ? event.charCode : event.keyCode;
      return chCode == 46 || (chCode >= 48 && chCode <= 57);
    }
    
    function calculate() {
      var input = document.getElementById("amount").value;
      if (!input)
      {
        input = "0";
      }
      var amount = parseFloat(parseFloat(input).toFixed(2));
      if (amount !== amount)
      {
        amount = 0;
      }
      var typeElem = document.getElementById("type");
      var type = parseFloat(typeElem.options[typeElem.selectedIndex].value);
      var percentageElem = document.getElementById("percentage");
      var percentage = parseFloat(percentageElem.options[percentageElem.selectedIndex].value);
      var tip = parseFloat((amount / type * percentage).toFixed(2));
      var total = amount + tip;
      document.getElementById("tip").innerHTML = "Tip: $" + tip.toFixed(2);
      document.getElementById("total").innerHTML = "Total: $" + total.toFixed(2);
    }
    </script>
  </body>
</html>
